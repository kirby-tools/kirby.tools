---
title: Translation Modes
description: Deep dive into how the two translation modes work under the hood.
---

The Content Translator plugin operates in two distinct modes depending on your current language context. Understanding these modes helps you choose the right approach for your translation workflow.

## Client-Side Translation (Secondary Languages)

When working in a **secondary language** (non-default language), the plugin uses client-side translation for immediate, interactive results.

### How It Works

1. **Field Detection**: The plugin scans all translatable fields in your current content
2. **Individual Processing**: Each field is translated separately via JavaScript
3. **Real-Time Updates**: Translations appear immediately in the Panel interface
4. **Direct Application**: Translated content is applied to the current language version

### Technical Implementation

```javascript
// Client-side translation function
async function translateModelContent(targetLanguage, sourceLanguage) {
  const clone = JSON.parse(JSON.stringify(currentContent.value));

  await translateContent(clone, {
    sourceLanguage: sourceLanguage?.code,
    targetLanguage: targetLanguage.code,
    fieldTypes: fieldTypes.value,
    includeFields: includeFields.value,
    excludeFields: excludeFields.value,
    fields: fields.value,
  });

  await updateContent(clone);
}
```

### Characteristics

- **Reversible**: Changes only affect the current language version
- **Interactive**: See translations as they happen
- **Granular**: Field-by-field processing
- **Immediate**: No page reload required

## Server-Side Batch Translation (Primary Language)

When working in the **primary language** (default language), the plugin uses server-side batch processing for efficient multi-language translation.

### How It Works

1. **Language Selection**: Choose which secondary languages to translate to
2. **Server Processing**: All translation happens on the server via PHP
3. **Batch Creation**: Creates or updates multiple language versions simultaneously
4. **Performance Optimization**: Concurrent processing with controlled concurrency

### Technical Implementation

```javascript
// Server-side batch translation function
async function batchTranslateModelContent(selectedLanguages) {
  await Promise.all(
    selectedLanguages.map(async (language) => {
      await panel.api.post(TRANSLATE_CONTENT_API_ROUTE, {
        selectedLanguage: language.code,
        id: defaultLanguageData.id ?? "site",
        title: translateTitle.value,
        slug: translateSlug.value,
      });
    }),
  );
}
```

### Characteristics

- **Non-reversible**: Creates new language versions from primary content
- **Efficient**: Process multiple languages simultaneously
- **Server-optimized**: Better performance for large content
- **Batch processing**: All-or-nothing approach

## When to Use Each Mode

### Use Client-Side Translation When:

- Working on secondary language content
- Need to see translations immediately
- Want to edit translations before saving
- Translating specific fields only
- Need fine-grained control over the translation process

### Use Server-Side Batch Translation When:

- Working from the primary language
- Need to translate to multiple languages at once
- Have large amounts of content to translate
- Want optimal performance for bulk operations
- Creating initial translations for new content

## Performance Considerations

### Client-Side Translation

- **Pros**: Interactive feedback, immediate results, granular control
- **Cons**: Network overhead for each field, UI blocking during translation
- **Best for**: Individual translations, small content, user interaction

### Server-Side Batch Translation

- **Pros**: Better performance, concurrent processing, no UI blocking
- **Cons**: No immediate feedback, all-or-nothing approach
- **Best for**: Bulk operations, large content, automation

## API Endpoints

The plugin uses different API endpoints for each mode:

### Client-Side Endpoints

```javascript
// Individual field translation
TRANSLATE_API_ROUTE = "johannschopplich/content-translator/translate";

// KirbyTags and markdown translation
TRANSLATE_KIRBYTEXT_API_ROUTE =
  "johannschopplich/content-translator/translate-kirbytext";
```

### Server-Side Endpoints

```javascript
// Batch content translation
TRANSLATE_CONTENT_API_ROUTE =
  "johannschopplich/content-translator/translate-content";
```

Each endpoint is optimized for its specific use case, ensuring the best performance and user experience for different translation scenarios.
