---
title: Auto-Completion
description: AI-powered inline text suggestions for writer fields.
---

Writer fields support AI-powered auto-completion that suggests text as you type. This feature is powered by the `copilot-completion` writer mark – a separate extension from the [toolbar button](/docs/copilot/usage/toolbar-buttons).

## How It Works

1. **Automatic triggering**: After 500ms of inactivity, Copilot suggests a completion based on your current text
2. **Ghost text preview**: Suggestions appear in a subtle gray color after your cursor
3. **Accept with Tab**: Press `Tab` to insert the suggestion
4. **Dismiss with Escape**: Press `Escape` to dismiss the suggestion

## Configuration

### Enabling Auto-Completion

Add the `copilot-completion` mark to your writer field:

```yaml [pages/default.yml]
fields:
  text:
    label: Text
    type: writer
    marks:
      - bold
      - italic
      - copilot             # Toolbar button for prompt dialog
      - copilot-completion  # Invisible mark for auto-completion
```

::note
The `copilot-completion` mark has no toolbar button – it works invisibly in the background, watching for typing pauses to suggest completions.
::

### Completion Model

Auto-completion uses a dedicated lightweight model optimized for speed. Configure the `completionModel` per provider in your [global configuration](/docs/copilot/configuration/global#default-models):

```php [config.php]
return [
    'johannschopplich.copilot' => [
        'provider' => 'google',
        'providers' => [
            'google' => [
                'apiKey' => env('GOOGLE_API_KEY'),
                'model' => 'gemini-3-pro-preview',
                'completionModel' => 'gemini-3-flash-preview' // Fast model for completions
            ]
        ]
    ]
];
```

## Keyboard Shortcuts

| Action             | Shortcut                                       |
| ------------------ | ---------------------------------------------- |
| Accept suggestion  | `Tab`                                          |
| Dismiss suggestion | `Escape`                                       |
| Trigger manually   | `Cmd + ,` (macOS) / `Ctrl + ,` (Windows/Linux) |

::tip
Manual trigger (`Cmd/Ctrl + ,`) is useful when you want a completion at a specific point, or when the automatic trigger hasn't fired yet.
::

## Comparison: copilot vs copilot-completion

Kirby Copilot provides two writer marks for AI assistance. They serve different purposes and can be used together:

::card-group

::card{title="copilot" icon="i-ri-sparkling-line"}
**Toolbar Button**

Adds a visible button to the writer toolbar. Click to open the prompt dialog for generating or editing content.

- Visible in toolbar
- Opens prompt dialog
- Works with selected text
- Supports prompt templates
::

::card{title="copilot-completion" icon="i-ri-magic-line"}
**Inline Auto-Completion**

Invisible mark that adds ghost text suggestions as you type. No toolbar presence.

- No toolbar button
- Automatic suggestions
- Ghost text preview
- Tab to accept
::

::

### Using Both Together

For the best experience, add both marks to your writer fields:

```yaml [pages/default.yml]
fields:
  content:
    label: Content
    type: writer
    marks:
      - bold
      - italic
      - link
      - "|"
      - copilot             # Manual prompt dialog
      - copilot-completion  # Automatic suggestions
```

This gives editors two ways to get AI assistance:
- **Quick suggestions** while typing (auto-completion)
- **Detailed prompts** for specific tasks (toolbar button)
